{"version":3,"file":"Dashboard.CBZOYpor.js","sources":["../../src/components/skills/SkillsFilter.tsx","../../src/pages/Dashboard.tsx"],"sourcesContent":["/**\r\n * Skills Filter Component - Advanced skills filtering for search and filtering\r\n */\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { SkillTag } from '@/types/models';\r\nimport { skillTagsApi } from '@/services/api';\r\n\r\ninterface SkillsFilterProps {\r\n  selectedSkills: string[];\r\n  onSkillsChange: (skills: string[]) => void;\r\n  placeholder?: string;\r\n  className?: string;\r\n  maxDisplayedSkills?: number;\r\n}\r\n\r\nconst SkillsFilter: React.FC<SkillsFilterProps> = ({\r\n  selectedSkills,\r\n  onSkillsChange,\r\n  placeholder = \"Filter by skills...\",\r\n  className = \"\",\r\n  maxDisplayedSkills = 5\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [availableSkills, setAvailableSkills] = useState<SkillTag[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    loadSkills();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n        setSearchTerm('');\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const loadSkills = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await skillTagsApi.list();\r\n      setAvailableSkills(response.results || []);\r\n    } catch (err) {\r\n      console.error('Failed to load skills:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredSkills = availableSkills.filter(skill =>\r\n    skill.name.toLowerCase().includes(searchTerm.toLowerCase()) &&\r\n    !selectedSkills.includes(skill.name)\r\n  );\r\n\r\n  const handleSkillSelect = (skillName: string) => {\r\n    onSkillsChange([...selectedSkills, skillName]);\r\n    setSearchTerm('');\r\n  };\r\n\r\n  const handleSkillRemove = (skillName: string) => {\r\n    onSkillsChange(selectedSkills.filter(skill => skill !== skillName));\r\n  };\r\n\r\n  const handleClearAll = () => {\r\n    onSkillsChange([]);\r\n  };\r\n\r\n  return (\r\n    <div ref={containerRef} className={`relative ${className}`}>\r\n      {/* Input Area */}\r\n      <div\r\n        className=\"min-h-[42px] px-3 py-2 bg-[#3e3e42] border border-[#3e3e42] rounded text-[#cccccc] focus-within:border-[#007acc] cursor-text\"\r\n        onClick={() => setIsOpen(true)}\r\n      >\r\n        {/* Selected Skills Tags */}\r\n        <div className=\"flex flex-wrap gap-1 mb-1\">\r\n          {selectedSkills.slice(0, maxDisplayedSkills).map((skill) => (\r\n            <span\r\n              key={skill}\r\n              className=\"inline-flex items-center gap-1 px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs\"\r\n            >\r\n              {skill}\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleSkillRemove(skill);\r\n                }}\r\n                className=\"hover:text-blue-300 transition-colors\"\r\n              >\r\n                ×\r\n              </button>\r\n            </span>\r\n          ))}\r\n          \r\n          {selectedSkills.length > maxDisplayedSkills && (\r\n            <span className=\"px-2 py-1 bg-slate-500/20 text-slate-400 rounded text-xs\">\r\n              +{selectedSkills.length - maxDisplayedSkills} more\r\n            </span>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Search Input */}\r\n        <input\r\n          type=\"text\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          onFocus={() => setIsOpen(true)}\r\n          placeholder={selectedSkills.length > 0 ? \"Add more skills...\" : placeholder}\r\n          className=\"bg-transparent border-none outline-none text-[#cccccc] placeholder-[#969696] w-full text-sm\"\r\n        />\r\n      </div>\r\n      \r\n      {/* Clear All Button */}\r\n      {selectedSkills.length > 0 && (\r\n        <button\r\n          onClick={handleClearAll}\r\n          className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-[#969696] hover:text-[#cccccc] text-sm\"\r\n        >\r\n          Clear all\r\n        </button>\r\n      )}\r\n\r\n      {/* Dropdown */}\r\n      {isOpen && (\r\n        <div className=\"absolute top-full left-0 right-0 mt-1 max-h-48 bg-[#2d2d30] border border-[#3e3e42] rounded shadow-lg z-50 overflow-auto\">\r\n          {loading && (\r\n            <div className=\"px-3 py-2 text-sm text-[#969696]\">Loading skills...</div>\r\n          )}\r\n          \r\n          {!loading && filteredSkills.length === 0 && searchTerm && (\r\n            <div className=\"px-3 py-2 text-sm text-[#969696]\">\r\n              No skills found matching \"{searchTerm}\"\r\n            </div>\r\n          )}\r\n          \r\n          {!loading && filteredSkills.length === 0 && !searchTerm && selectedSkills.length === availableSkills.length && (\r\n            <div className=\"px-3 py-2 text-sm text-[#969696]\">\r\n              All available skills selected\r\n            </div>\r\n          )}\r\n          \r\n          {filteredSkills.slice(0, 10).map((skill) => (\r\n            <button\r\n              key={skill.id}\r\n              onClick={() => handleSkillSelect(skill.name)}\r\n              className=\"w-full px-3 py-2 text-left text-sm text-[#cccccc] hover:bg-[#3e3e42] transition-colors\"\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <span>{skill.name}</span>\r\n                {skill.category && (\r\n                  <span className=\"text-xs text-[#969696]\">{skill.category}</span>\r\n                )}\r\n              </div>\r\n            </button>\r\n          ))}\r\n          \r\n          {filteredSkills.length > 10 && (\r\n            <div className=\"px-3 py-2 text-xs text-[#969696] border-t border-[#3e3e42]\">\r\n              {filteredSkills.length - 10} more skills available...\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SkillsFilter;","/**\r\n * Dashboard page - Team utilization overview\r\n * Chunk 4: Real dashboard with team metrics and VSCode dark theme\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Layout from '../components/layout/Layout';\r\nimport Card from '../components/ui/Card';\r\nimport UtilizationBadge from '../components/ui/UtilizationBadge';\r\nimport SkillsFilter from '../components/skills/SkillsFilter';\r\nimport { dashboardApi, departmentsApi, personSkillsApi } from '../services/api';\r\nimport { DashboardData, Department, PersonSkill } from '../types/models';\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const [data, setData] = useState<DashboardData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [weeksPeriod, setWeeksPeriod] = useState<number>(1);\r\n  \r\n  // Department filtering state\r\n  const [departments, setDepartments] = useState<Department[]>([]);\r\n  const [selectedDepartment, setSelectedDepartment] = useState<string>(''); // Empty string = 'All Departments'\r\n  \r\n  // Skills filtering state\r\n  const [selectedSkills, setSelectedSkills] = useState<string[]>([]);\r\n  const [peopleSkills, setPeopleSkills] = useState<PersonSkill[]>([]);\r\n\r\n  useEffect(() => {\r\n    loadDashboard();\r\n    loadDepartments();\r\n    loadPeopleSkills();\r\n  }, [weeksPeriod, selectedDepartment]);\r\n  \r\n  const loadDepartments = async () => {\r\n    try {\r\n      const response = await departmentsApi.list();\r\n      setDepartments(response.results || []);\r\n    } catch (err) {\r\n      console.error('Error loading departments:', err);\r\n    }\r\n  };\r\n\r\n  const loadPeopleSkills = async () => {\r\n    try {\r\n      const response = await personSkillsApi.list();\r\n      setPeopleSkills(response.results || []);\r\n    } catch (err) {\r\n      console.error('Error loading people skills:', err);\r\n    }\r\n  };\r\n\r\n  const loadDashboard = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await dashboardApi.getDashboard(weeksPeriod, selectedDepartment || undefined);\r\n      setData(response);\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to load dashboard data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleWeeksPeriodChange = (newWeeks: number) => {\r\n    if (newWeeks >= 1 && newWeeks <= 12) {\r\n      setWeeksPeriod(newWeeks);\r\n    }\r\n  };\r\n\r\n  // Filter people based on selected skills\r\n  const filterPeopleBySkills = (people: any[]) => {\r\n    if (selectedSkills.length === 0) return people;\r\n\r\n    return people.filter(person => {\r\n      const personSkills = peopleSkills\r\n        .filter(skill => skill.person === person.id && skill.skillType === 'strength')\r\n        .map(skill => skill.skillTagName?.toLowerCase() || '');\r\n\r\n      return selectedSkills.some(selectedSkill =>\r\n        personSkills.some(personSkill =>\r\n          personSkill.includes(selectedSkill.toLowerCase()) ||\r\n          selectedSkill.toLowerCase().includes(personSkill)\r\n        )\r\n      );\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"text-[#969696]\">Loading dashboard...</div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"space-y-4\">\r\n          <div className=\"text-red-400\">Error: {error}</div>\r\n          <button\r\n            onClick={loadDashboard}\r\n            className=\"bg-[#007acc] hover:bg-[#1e90ff] text-white px-4 py-2 rounded transition-colors\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  if (!data) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"text-[#969696]\">No dashboard data available</div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-start\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-[#cccccc]\">\r\n              Team Dashboard\r\n            </h1>\r\n            <p className=\"text-[#969696] mt-2\">\r\n              Overview of team utilization and workload allocation\r\n              {weeksPeriod === 1 ? ' (current week)' : ` (${weeksPeriod} week average)`}\r\n              {selectedDepartment && (\r\n                <span className=\"block mt-1\">\r\n                  Filtered by: {departments.find(d => d.id?.toString() === selectedDepartment)?.name || 'Unknown Department'}\r\n                </span>\r\n              )}\r\n            </p>\r\n          </div>\r\n          \r\n          {/* Department and Time Period Selectors */}\r\n          <div className=\"flex items-center gap-6\">\r\n            {/* Department Filter */}\r\n            <div className=\"flex items-center gap-3\">\r\n              <label className=\"text-sm text-[#969696]\">Department:</label>\r\n              <select\r\n                value={selectedDepartment}\r\n                onChange={(e) => setSelectedDepartment(e.target.value)}\r\n                className=\"px-3 py-1.5 text-sm bg-[#3e3e42] border border-[#3e3e42] rounded text-[#cccccc] focus:border-[#007acc] focus:outline-none min-w-[140px]\"\r\n              >\r\n                <option value=\"\">All Departments</option>\r\n                {departments.map((dept) => (\r\n                  <option key={dept.id} value={dept.id}>\r\n                    {dept.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            {/* Time Period Selector */}\r\n            <div className=\"flex items-center gap-3\">\r\n              <label className=\"text-sm text-[#969696]\">Time Period:</label>\r\n              <div className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                max=\"12\"\r\n                value={weeksPeriod}\r\n                onChange={(e) => handleWeeksPeriodChange(parseInt(e.target.value) || 1)}\r\n                className=\"w-16 px-2 py-1 text-sm bg-[#3e3e42] border border-[#3e3e42] rounded text-[#cccccc] focus:border-[#007acc] focus:outline-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]\"\r\n              />\r\n              <span className=\"text-sm text-[#969696]\">\r\n                {weeksPeriod === 1 ? 'week' : 'weeks'}\r\n              </span>\r\n            </div>\r\n            \r\n              {/* Quick Select Buttons */}\r\n              <div className=\"flex gap-1 ml-2\">\r\n                {[1, 2, 4, 8, 12].map((weeks) => (\r\n                  <button\r\n                    key={weeks}\r\n                    onClick={() => handleWeeksPeriodChange(weeks)}\r\n                    className={`px-2 py-1 text-xs rounded transition-colors ${\r\n                      weeksPeriod === weeks\r\n                        ? 'bg-[#007acc] text-white'\r\n                        : 'bg-[#3e3e42] text-[#969696] hover:text-[#cccccc] hover:bg-[#4e4e52]'\r\n                    }`}\r\n                  >\r\n                    {weeks}w\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Skills Filter */}\r\n        {selectedSkills.length > 0 || (data && data.team_overview && data.team_overview.length > 0) ? (\r\n          <div className=\"flex items-center gap-4\">\r\n            <label className=\"text-sm text-[#969696] flex-shrink-0\">Filter by Skills:</label>\r\n            <SkillsFilter\r\n              selectedSkills={selectedSkills}\r\n              onSkillsChange={setSelectedSkills}\r\n              placeholder=\"Add skills filter...\"\r\n              className=\"flex-grow max-w-md\"\r\n            />\r\n            {selectedSkills.length > 0 && (\r\n              <div className=\"text-xs text-blue-400 flex-shrink-0\">\r\n                Showing {filterPeopleBySkills(data?.team_overview || []).length} of {data?.team_overview?.length || 0} people\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : null}\r\n\r\n        {/* Summary Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\r\n          <Card className=\"bg-[#2d2d30] border-[#3e3e42]\">\r\n            <div className=\"text-[#969696] text-sm\">Total Team Members</div>\r\n            <div className=\"text-2xl font-bold text-[#cccccc]\">{data.summary.total_people}</div>\r\n          </Card>\r\n          \r\n          <Card className=\"bg-[#2d2d30] border-[#3e3e42]\">\r\n            <div className=\"text-[#969696] text-sm\">Average Utilization</div>\r\n            <div className=\"text-2xl font-bold text-blue-400\">{data.summary.avg_utilization}%</div>\r\n          </Card>\r\n          \r\n          <Card className=\"bg-[#2d2d30] border-[#3e3e42]\">\r\n            <div className=\"text-[#969696] text-sm\">Peak Utilization</div>\r\n            <div className=\"text-2xl font-bold text-amber-400\">{data.summary.peak_utilization}%</div>\r\n            {data.summary.peak_person && (\r\n              <div className=\"text-xs text-[#969696] mt-1\">{data.summary.peak_person}</div>\r\n            )}\r\n          </Card>\r\n          \r\n          <Card className=\"bg-[#2d2d30] border-[#3e3e42]\">\r\n            <div className=\"text-[#969696] text-sm\">Active Assignments</div>\r\n            <div className=\"text-2xl font-bold text-[#cccccc]\">{data.summary.total_assignments}</div>\r\n          </Card>\r\n          \r\n          <Card className=\"bg-[#2d2d30] border-[#3e3e42]\">\r\n            <div className=\"text-[#969696] text-sm\">Overallocated</div>\r\n            <div className=\"text-2xl font-bold text-red-400\">{data.summary.overallocated_count}</div>\r\n          </Card>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          {/* Team Overview */}\r\n          <Card className=\"lg:col-span-2 bg-[#2d2d30] border-[#3e3e42]\">\r\n            <h3 className=\"text-lg font-semibold text-[#cccccc] mb-4\">Team Overview</h3>\r\n            <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n              {filterPeopleBySkills(data.team_overview).map(person => (\r\n                <div key={person.id} className=\"flex items-center justify-between p-3 bg-[#3e3e42]/50 rounded-lg\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"font-medium text-[#cccccc]\">{person.name}</div>\r\n                    <div className=\"text-sm text-[#969696]\">{person.role} • {person.allocated_hours}h / {person.capacity}h</div>\r\n                    {weeksPeriod > 1 && person.peak_utilization_percent !== person.utilization_percent && (\r\n                      <div className=\"text-xs text-amber-400 mt-1\">\r\n                        Peak: {person.peak_utilization_percent}%\r\n                        {person.is_peak_overallocated && ' ⚠️'}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex flex-col items-end gap-1\">\r\n                    <UtilizationBadge percentage={person.utilization_percent} />\r\n                    {weeksPeriod > 1 && person.peak_utilization_percent !== person.utilization_percent && (\r\n                      <div className={`text-xs px-2 py-1 rounded border ${\r\n                        person.is_peak_overallocated \r\n                          ? 'bg-red-500/20 text-red-400 border-red-500/30'\r\n                          : person.peak_utilization_percent > 85\r\n                          ? 'bg-amber-500/20 text-amber-400 border-amber-500/30'\r\n                          : 'bg-blue-500/20 text-blue-400 border-blue-500/30'\r\n                      }`}>\r\n                        Peak: {person.peak_utilization_percent}%\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Available People */}\r\n          <Card className=\"bg-[#2d2d30] border-[#3e3e42]\">\r\n            <h3 className=\"text-lg font-semibold text-[#cccccc] mb-4\">Available People</h3>\r\n            <div className=\"space-y-3\">\r\n              {filterPeopleBySkills(data.available_people).length === 0 ? (\r\n                <div className=\"text-[#969696] text-sm\">\r\n                  {selectedSkills.length > 0 \r\n                    ? `No available people found with skills: ${selectedSkills.join(', ')}`\r\n                    : 'All team members are at capacity'}\r\n                </div>\r\n              ) : (\r\n                filterPeopleBySkills(data.available_people).map(person => (\r\n                  <div key={person.id} className=\"text-sm\">\r\n                    <div className=\"text-[#cccccc] font-medium\">{person.name}</div>\r\n                    <div className=\"text-emerald-400\">{person.available_hours}h available</div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Utilization Distribution */}\r\n        <Card className=\"bg-[#2d2d30] border-[#3e3e42]\">\r\n          <h3 className=\"text-lg font-semibold text-[#cccccc] mb-4\">Utilization Distribution</h3>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-emerald-400\">{data.utilization_distribution.underutilized}</div>\r\n              <div className=\"text-sm text-[#969696]\">Underutilized (&lt;70%)</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-blue-400\">{data.utilization_distribution.optimal}</div>\r\n              <div className=\"text-sm text-[#969696]\">Optimal (70-85%)</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-amber-400\">{data.utilization_distribution.high}</div>\r\n              <div className=\"text-sm text-[#969696]\">High (85-100%)</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-red-400\">{data.utilization_distribution.overallocated}</div>\r\n              <div className=\"text-sm text-[#969696]\">Overallocated (&gt;100%)</div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Recent Assignments */}\r\n        {data.recent_assignments.length > 0 && (\r\n          <Card className=\"bg-[#2d2d30] border-[#3e3e42]\">\r\n            <h3 className=\"text-lg font-semibold text-[#cccccc] mb-4\">Recent Assignments</h3>\r\n            <div className=\"space-y-2\">\r\n              {data.recent_assignments.map((assignment, index) => (\r\n                <div key={index} className=\"flex items-center justify-between p-2 bg-[#3e3e42]/30 rounded\">\r\n                  <div>\r\n                    <span className=\"text-[#cccccc] font-medium\">{assignment.person}</span>\r\n                    <span className=\"text-[#969696]\"> assigned to </span>\r\n                    <span className=\"text-[#cccccc]\">{assignment.project}</span>\r\n                  </div>\r\n                  <div className=\"text-[#969696] text-sm\">\r\n                    {new Date(assignment.created).toLocaleDateString()}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"names":["SkillsFilter","selectedSkills","onSkillsChange","placeholder","className","maxDisplayedSkills","isOpen","setIsOpen","useState","searchTerm","setSearchTerm","availableSkills","setAvailableSkills","loading","setLoading","containerRef","useRef","useEffect","loadSkills","handleClickOutside","event","response","skillTagsApi","err","filteredSkills","skill","handleSkillSelect","skillName","handleSkillRemove","handleClearAll","jsxs","jsx","e","Dashboard","data","setData","error","setError","weeksPeriod","setWeeksPeriod","departments","setDepartments","selectedDepartment","setSelectedDepartment","setSelectedSkills","peopleSkills","setPeopleSkills","loadDashboard","loadDepartments","loadPeopleSkills","departmentsApi","personSkillsApi","dashboardApi","handleWeeksPeriodChange","newWeeks","filterPeopleBySkills","people","person","personSkills","personSkill","selectedSkill","Layout","d","dept","weeks","Card","UtilizationBadge","assignment","index"],"mappings":"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"}