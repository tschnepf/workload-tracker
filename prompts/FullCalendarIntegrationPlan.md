# FullCalendar Integration – Unified Calendar Roadmap

## Phase 0 – Assessment, Licensing, & Architecture
- Prompt 0a: "Using lean programming best practices (no shortcuts or band-aid fixes), inventory every screen (My Work, Team Dashboard, Deliverables, Scheduling widgets, admin tools) that currently renders a calendar/time grid, documenting API endpoints, event shapes, interaction requirements, backend pagination limits, and feature flags so FullCalendar can cover all scenarios without backend mismatches."
- Prompt 0b: "Using lean programming best practices (no shortcuts or band-aid fixes), define the shared FullCalendar wrapper API (props, event adapter, theme tokens) that both desktop and mobile variants will reuse, ensuring the wrapper retrieves data via the existing hooks (e.g., `/personal/work/`, `/deliverables/calendar_with_pre_items/`) without duplicating fetch logic."
- Prompt 0c: "Using lean programming best practices (no shortcuts or band-aid fixes), confirm we will rely solely on the **free** FullCalendar plugins (core, `dayGrid`, `timeGrid`, `list`) and document licensing expectations so premium-only features (Timeline/Resource) are not referenced."
- Prompt 0d: "Using lean programming best practices (no shortcuts or band-aid fixes), coordinate with backend teams to agree on supported date windows/pagination for each endpoint so FullCalendar queries do not trigger rate limits, and document the agreed contract."
- Prompt 0e: "Using lean programming best practices (no shortcuts or band-aid fixes), establish feature flags (`FULLCALENDAR_MYWORK`, `FULLCALENDAR_TEAM`, etc.) plus rollback steps so each screen can toggle FullCalendar on/off independently during rollout."

## Phase 1 – Shared Wrapper & Data Adapters
- Prompt 1a: "Using lean programming best practices (no shortcuts or band-aid fixes), implement a `CalendarEventAdapter` module with **profile-specific adapters** (personal, deliverables, heatmap) that map backend payloads into FullCalendar’s `EventInput` objects, including explicit week-bucket normalization for heatmap data so week-based endpoints render correctly."
- Prompt 1b: "Using lean programming best practices (no shortcuts or band-aid fixes), build a `FullCalendarWrapper` component that lazy-loads the free FullCalendar plugins (`dayGrid`, `timeGrid`, `list`), exposes responsive view configs (`listWeek` below 768px, `timeGridWeek`/`dayGridMonth` on desktop), and allows custom event content so each feature can render its existing pill UI."
- Prompt 1c: "Using lean programming best practices (no shortcuts or band-aid fixes), document parity requirements (hover interactions, tap/click quick-view triggers, keyboard navigation, focus management) and verify the wrapper implements them for both pointer and touch devices."
- Prompt 1d: "Using lean programming best practices (no shortcuts or band-aid fixes), add shared styles scoped to a FullCalendar theme module so overrides do not leak globally, covering typography, borders, hover states, focus rings, and dark-mode colors."
- Prompt 1e: "Using lean programming best practices (no shortcuts or band-aid fixes), run a bundle analyzer once the wrapper is implemented and set guardrails (e.g., lazy chunk <200 KB) so later phases fail CI if the budget is exceeded."
- Prompt 1f: "Using lean programming best practices (no shortcuts or band-aid fixes), create developer documentation for the wrapper API, event adapters, and backend contract expectations so later phases follow consistent patterns."

## Phase 2 – My Work (PersonalDashboard) Implementation
- Prompt 2a: "Using lean programming best practices (no shortcuts or band-aid fixes), replace `PersonalCalendarWidget`’s custom grid with `FullCalendarWrapper`, wiring it to the `/personal/work/` payload via the new adapters so schedule data renders identically on desktop and mobile."
- Prompt 2b: "Using lean programming best practices (no shortcuts or band-aid fixes), rework `MyScheduleStrip` so it becomes a lightweight summary of the FullCalendar events (e.g., a week heatmap) pulling from the same data adapter to avoid duplicated logic."
- Prompt 2c: "Using lean programming best practices (no shortcuts or band-aid fixes), ensure mobile breakpoints (≤768px) switch to FullCalendar’s `listWeek` view with accessible tap targets, while desktop uses `timeGridWeek` + `dayGridMonth`, and confirm quick-view popovers still open via event clicks."

## Phase 3 – Team Dashboard & Deliverables Replacement
- Prompt 3a: "Using lean programming best practices (no shortcuts or band-aid fixes), integrate `FullCalendarWrapper` into the Team Dashboard heatmap section, feeding it the `/people/capacity_heatmap/` + `/deliverables/calendar_with_pre_items/` data and ensuring existing KPIs (utilization pills, department filters) remain accurate."
- Prompt 3b: "Using lean programming best practices (no shortcuts or band-aid fixes), refactor Deliverables views that rely on `CalendarGrid` into FullCalendar, adding custom event content for milestones/pre-deliverables, confirming backend filters (mine_only, department scoping) stay synchronized, and ensuring large datasets are paginated or filtered to avoid list view overload."
- Prompt 3c: "Using lean programming best practices (no shortcuts or band-aid fixes), audit the repo for any remaining `CalendarGrid` consumers, migrate them to `FullCalendarWrapper`, migrate associated unit tests, and only then delete legacy calendar components once tests confirm all screens function with the new implementation."

## Phase 4 – Interaction, Accessibility, and Testing
- Prompt 4a: "Using lean programming best practices (no shortcuts or band-aid fixes), enhance keyboard and screen-reader support by configuring FullCalendar’s ARIA attributes, focus traps, and visible focus indicators so event navigation works seamlessly across desktop and mobile, including color-contrast and tap-target audits."
- Prompt 4b: "Using lean programming best practices (no shortcuts or band-aid fixes), update Vitest + React Testing Library suites to mock `FullCalendarWrapper` and verify that PersonalDashboard, Team Dashboard, Deliverables, admin calendars, and any remaining calendar consumers render the correct events and respond to view changes at 390px and desktop widths."
- Prompt 4c: "Using lean programming best practices (no shortcuts or band-aid fixes), expand Playwright coverage to capture regression screenshots for the new FullCalendar views at key breakpoints (390px, 768px, 1280px) using standardized naming (e.g., `fullcalendar-personal-390.png`) and assert that event popovers, filters, and feature-flag rollbacks operate correctly."

## Phase 5 – Performance Hardening & Documentation
- Prompt 5a: "Using lean programming best practices (no shortcuts or band-aid fixes), profile bundle impact and configure dynamic imports/code-splitting for the free FullCalendar plugins so only the necessary views load per route, ensuring Lighthouse scores stay within existing budgets."
- Prompt 5b: "Using lean programming best practices (no shortcuts or band-aid fixes), expand the documentation created in Phase 1 with deployment/feature-flag guidance, backend pagination expectations, and rollback procedures, finalizing `docs/ui/fullcalendar.md` so future features follow the unified pattern."
- Prompt 5c: "Using lean programming best practices (no shortcuts or band-aid fixes), ensure bundle budgets remain enforced by adding CI checks for FullCalendar chunks and documenting how to adjust them when new views are added."
