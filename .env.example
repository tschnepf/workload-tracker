# === Application Settings ===
APP_NAME=workload-tracker
DEBUG=true
SECRET_KEY=dev-secret-key-change-in-production
ALLOWED_HOSTS=localhost,127.0.0.1,backend,frontend

# === Database Settings ===
POSTGRES_DB=workload_tracker
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=db
POSTGRES_PORT=5432
DB_WAIT_TIMEOUT_SECS=120
DB_WAIT_SLEEP_SECS=1
DATABASE_URL=postgresql://postgres:postgres@db:5432/workload_tracker

# === Port Configuration ===
BACKEND_PORT=8000
FRONTEND_PORT=3000

# === API Settings ===
API_BASE_URL=http://localhost:8000/api
VITE_API_URL=http://localhost:8000/api

# === Default Admin (Dev Only) ===
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=admin123

# === Docker Settings ===
COMPOSE_PROJECT_NAME=workload-tracker
DOCKER_BUILDKIT=1

# === Security Feature Flags ===
COOKIE_REFRESH_AUTH=false
LOGIN_PROTECTION=false

# === Login protection (django-axes) ===
AXES_FAILURE_LIMIT=5
AXES_COOLOFF_TIME=1
AXES_NEVER_LOCKOUT_USERNAMES=
AXES_ALLOWED_CIDR_NETS=
AXES_ALERT_ADMINS=false

# === CORS/CSRF (optional overrides) ===
# CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
# CSRF_TRUSTED_ORIGINS=http://localhost,http://127.0.0.1

# === Frontend Flags ===
VITE_COOKIE_REFRESH_AUTH=false
VITE_ROUTE_PREFETCH=true
VITE_VIEW_TRANSITIONS=false
VITE_PREFETCH_CONCURRENCY=2
VITE_NAV_PROGRESS=true
VITE_NAV_PENDING_OVERLAY=true

# === Sentry (frontend) ===
SENTRY_UPLOAD=false
VITE_SENTRY_ORG=
VITE_SENTRY_PROJECT=
VITE_SENTRY_AUTH_TOKEN=
VITE_APP_VERSION=dev

# === Notifications (Slack) ===
SLACK_WEBHOOK_URL=

# === Content Security Policy ===
CSP_ENABLED=true
CSP_REPORT_ONLY=true
CSP_REPORT_URI=/csp-report/

# === OpenAPI / Swagger exposure ===
OPENAPI_PUBLIC=true

# === Celery (Background Jobs) ===
ASYNC_JOBS=false
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/1
CELERY_TASK_ALWAYS_EAGER=false

# === Performance (Phase 3) ===
DB_CONN_MAX_AGE=60
DB_CONN_HEALTH_CHECKS=true
SHORT_TTL_AGGREGATES=false
DRF_THROTTLE_HEATMAP=1200/min
DRF_THROTTLE_SKILL_MATCH=600/min
DRF_THROTTLE_PROJECT_AVAILABILITY=600/min
DRF_THROTTLE_FIND_AVAILABLE=600/min
DRF_THROTTLE_GRID_SNAPSHOT=600/min
# DEPT_DESC_CACHE_TTL=300
# AGGREGATE_CACHE_TTL=15

# === DRF Throttles for backups (Phase 0) ===
DRF_THROTTLE_BACKUP_CREATE=2/hour
DRF_THROTTLE_BACKUP_DELETE=5/hour
DRF_THROTTLE_BACKUP_DOWNLOAD=20/hour
DRF_THROTTLE_BACKUP_STATUS=120/min
# DRF_THROTTLE_BACKUP_RESTORE=2/hour
# DRF_THROTTLE_BACKUP_UPLOAD_RESTORE=2/hour

# === Backup encryption & offsite (optional) ===
BACKUP_ENCRYPTION_ENABLED=false
BACKUP_ENCRYPTION_PROVIDER=gpg
BACKUP_ENCRYPTION_RECIPIENT=
BACKUP_OFFSITE_ENABLED=false
BACKUP_OFFSITE_PROVIDER=
BACKUP_OFFSITE_BUCKET=
BACKUP_OFFSITE_PREFIX=

# === Backup & Maintenance (Phase 0) ===
BACKUPS_DIR=/backups
READ_ONLY_MODE=false
DB_ADMIN_URL=
BACKUP_UPLOAD_MAX_BYTES=5368709120
CELERY_BEAT_SCHEDULE_FILE=/tmp/celery/beat-schedule
CELERY_BEAT_DIR=

# === JWT Blacklist Auto-Repair (Dev Safety) ===
AUTO_FIX_JWT_BLACKLIST=true

# === Automation & Retention (Phase 9) ===
ENABLE_AUTOMATION=false
BACKUP_SCHEDULE_CRON=0 2 * * *
CLEANUP_SCHEDULE_CRON=30 2 * * *
BACKUP_RETENTION_DAILY=7
BACKUP_RETENTION_WEEKLY=4
BACKUP_RETENTION_MONTHLY=12
RESTORE_TEST_ENABLED=false
# RESTORE_TEST_SCHEDULE_CRON=0 4 * * *

# === App URLs ===
EMAIL_DOMAIN=
APP_BASE_URL=http://localhost:3000

# === Email (SMTP) ===
# EMAIL_BACKEND=
# EMAIL_HOST=
# EMAIL_PORT=587
# EMAIL_USE_TLS=true
# EMAIL_HOST_USER=
# EMAIL_HOST_PASSWORD=
# DEFAULT_FROM_EMAIL=
# SERVER_EMAIL=
# EMAIL_TIMEOUT=
